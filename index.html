<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Coimbra - Bus Map</title>

    <script type="text/javascript" src="paperjs-v0.9.25/dist/paper-full.js"></script>

    <script type="text/paperscript" canvas="myCanvas">
      var path;

      function onMouseDown(event) {
        // If we produced a path before, deselect it:
        if (path) {
          path.selected = false;
        }

        // Create a new path and set its stroke color to black:
        path = new Path({
          segments: [event.point],
          strokeColor: 'black',
          strokeWidth: 7
        });
      }

      // While the user drags the mouse, points are added to the path
      // at the position of the mouse:
      function onMouseDrag(event) {
        path.add(event.point);
      }

      // When the mouse is released, we simplify the path:
      function onMouseUp(event) {
        var segmentCount = path.segments.length;

        // When the mouse is released, simplify it:
        path.simplify(10);
      }

    </script>

    <style type="text/css" media="screen">
      canvas {
        background: url(map.svg);
        background-size:     cover;
        background-repeat:   no-repeat;
        background-position: center center;
      }
   </style>

  </head>

  <body style="min-width: 1024px; min-height: 768px; height: 100%;">
    <canvas id="myCanvas" style="height: 100%; width: 100%;"></canvas>

    <button type="button" name="button" id="reset"> Clear Drawing </button>

    <script type="text/javascript">
      paper.install(window);

      window.onload = function () {
        paper.setup('myCanvas');

         document.getElementById('reset').onclick = function(){
            paper.project.activeLayer.removeChildren();
            paper.view.draw();
        }
      };
    </script>
  </body>
</html>
